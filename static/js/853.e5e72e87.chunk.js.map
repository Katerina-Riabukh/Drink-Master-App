{"version":3,"file":"static/js/853.e5e72e87.chunk.js","mappings":"oQAWe,SAASA,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACX,MAAEC,EAAK,OAAEC,IAAWC,EAAAA,EAAAA,MACnBC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,IACxCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,GAIrCG,EAAeC,IACnBL,EAAeK,EAAQ,EAGnBC,EAAaC,KAAKC,KAAKZ,EANP,GA2BtB,OAnBAa,EAAAA,EAAAA,YAAU,KACe,KAAb,OAANZ,QAAM,IAANA,OAAM,EAANA,EAAQa,SAAgBX,EAAc,GACxCK,EAAaL,EAAc,GAE7BI,GAAmB,OAANN,QAAM,IAANA,OAAM,EAANA,EAAQa,QAAS,EAAE,GAE/B,CAACb,KAEJY,EAAAA,EAAAA,YAAU,KACRjB,EAAS,SAADmB,OAAUZ,GAAc,GAE/B,CAACA,KAEJU,EAAAA,EAAAA,YAAU,KACRf,GAASkB,EAAAA,EAAAA,IAAa,CAAEC,KAAMd,EAAae,MAtBvB,KAuBjBC,SACAC,OAAMC,GAASC,QAAQC,IAAIF,IAAO,GACpC,CAACvB,EAAUK,EAAaH,EAzBL,KA4BpBwB,EAAAA,EAAAA,MAACC,EAAAA,EAAa,CAAAC,SAAA,EACZC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAACC,MAAM,cAChBvB,EAAY,GACXqB,EAAAA,EAAAA,KAACG,EAAAA,EAAS,CACRC,WAAY9B,EACZO,aAAcA,EACdL,YAAaA,KAGfwB,EAAAA,EAAAA,KAACK,EAAAA,EAAQ,IAGVtB,EAAa,IACZiB,EAAAA,EAAAA,KAACM,EAAAA,EAAS,CACR9B,YAAaA,EACbO,WAAYA,EACZF,aAAcA,EACd0B,KAAM,iBAKhB,C","sources":["views/MyDrinksPage/MyDrinksPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport DrinkList from 'components/DrinkList/DrinkList';\nimport PageTitle from 'components/PageTitle/PageTitle';\nimport { MainContainer } from 'styles/App.styled';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useDrink } from 'hooks/useDrink';\nimport { getOwnDrinks } from 'redux/drinks/drinksOperations';\nimport NotFound from 'components/NotFound/NotFound';\nimport Paginator from 'components/Paginator/Paginator';\n\nexport default function MyDrinksPage() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { total, drinks } = useDrink();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasDrinks, setHasDrinks] = useState(false);\n\n  const drinksPerPage = 6;\n\n  const onPageChange = pageNum => {\n    setCurrentPage(pageNum);\n  };\n\n  const totalPages = Math.ceil(total / drinksPerPage);\n\n  useEffect(() => {\n    if (drinks?.length === 0 && currentPage > 1) {\n      onPageChange(currentPage - 1);\n    }\n    setHasDrinks(drinks?.length > 0);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [drinks]);\n\n  useEffect(() => {\n    navigate(`?page=${currentPage}`);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentPage]);\n\n  useEffect(() => {\n    dispatch(getOwnDrinks({ page: currentPage, limit: drinksPerPage }))\n      .unwrap()\n      .catch(error => console.log(error));\n  }, [dispatch, currentPage, total, drinksPerPage]);\n\n  return (\n    <MainContainer>\n      <PageTitle title=\"My drinks\" />\n      {hasDrinks > 0 ? (\n        <DrinkList\n          drinksData={drinks}\n          onPageChange={onPageChange}\n          currentPage={currentPage}\n        />\n      ) : (\n        <NotFound />\n      )}\n\n      {totalPages > 1 && (\n        <Paginator\n          currentPage={currentPage}\n          totalPages={totalPages}\n          onPageChange={onPageChange}\n          path={'/favorites'}\n        />\n      )}\n    </MainContainer>\n  );\n}\n"],"names":["MyDrinksPage","navigate","useNavigate","dispatch","useDispatch","total","drinks","useDrink","currentPage","setCurrentPage","useState","hasDrinks","setHasDrinks","onPageChange","pageNum","totalPages","Math","ceil","useEffect","length","concat","getOwnDrinks","page","limit","unwrap","catch","error","console","log","_jsxs","MainContainer","children","_jsx","PageTitle","title","DrinkList","drinksData","NotFound","Paginator","path"],"sourceRoot":""}